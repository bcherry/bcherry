#define SAVE_SCREEN
#define OPTIMIZE_ROM_CALLS

#define DEPART_BOATS 3000
#define FIN_BOATS 6000
#define RECOVERY_BOATS 9000

#define DEPART_ENEMY1 300
#define FIN_ENEMY1 7000
#define RECOVERY1 10000

#define DEPART_ENEMY2 1500
#define FIN_ENEMY2 5000
#define RECOVERY2 11000

#define DEPART_TRANSPORT 7500
#define FIN_TRANSPORT 9500

#define DEPART_MISSILES 7000
#define FIN_MISSILES 9500
#define RECOVERY_MISSILES 13000

#include <tigcclib.h>
#include "extgraph.h"
#include "JudeCN.h"

short _ti89;




	short nat;//Natural meter
	
	short invincibility=200;
	
  /* ---------- Global Structures ---------- */
  /* Structure shootings */
   struct shootings {
  				  				   short posx, posy;
 						  			 }shooting[3];
 	
 	/* enemy structures */
 	 struct enemies {
											    short posx, posy;
											    short tracex, tracey;
 											  }enemy[8];
 	
 	/* ---------- Global Variables ---------- */
 	
  /* Declaration of the variables */
	 short lives, explook=9, explocompt=0;//explook and explocompt are useful for the animation of the explosions...
	 short posx=0, posy=42, en, j;// posx and posy are the coordinates
   short decelerations_shootings = 0;// So that the three shootings do not leave into same tps
   short anc_pos_life;//Is useful has to erase its old hearts to post the new ones
	 unsigned int score;//Score 
	 unsigned int meter;// Who déclanche events
   char buffer[20];// Or "Your Score is written:  00000"	
   unsigned int record = 0;
   short bonusx, bonusy;
		
 /* Position of nature */ 
  short boatposx = 200;
  
  struct water{
  						short posx;
  				}waterx[5];
  				
  struct mountains{
  						short posx;
  				}mountain[2]; 
  struct boats{
  								short posx;
  						}boat[2];				
  				
  short deceleration = 400;

	/* -------------------- Functions -------------------- */
  /* Declaration of the Function Protoypes */
	void collision(void);
	void control_collision(void);
	inline void static posting_lives(void);
	void sleep(short nbpause);
	void graphics_initial(void);
	void control_damage(void);
	void shootings(void);
	void enemy_touched(void);
	void graph(void);
	void control_damage(void);	
  void displacements_enemies(void);
  
  /* Functions of posting of the sprites */	
  void post_shooting(void);//to post sprites of the shootings
  inline void static post_large_explosion(void);//to post sprites of the large explosions (when touched)
  void post_enemies_0(void);//to post sprites of enemies 1
	void post_enemies_1(void);//to post sprites of enemies 2
	void post_enemies_2(void);//to post sprites of the conveyor (enemy 3)
	//void post_transport(void);
	void post_missiles(void);	  
	inline void static  post_score(void);
	void post_boats(void);
	void post_waterx(void);
	void post_mountains(void);

	inline void static bonus(void);
	void pause(void);
	void intro(void);
	void degrade(short d);
	int menu(void);
	
/* ============================== Intro ============================== */	
void intro(void)
{
   static BITMAP orage_l = {80,80,{0x00,0x00,0x00,0x00,0x1F,0xAC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xFF,0xE9,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xFF,0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xF0,0x00,0x00,0x00,0x00,0x00,0x0F,0xFF,0xFF,0xFF,0xFF,0x80,0x00,0x00,0x00,0x00,0x1F,0xFF,0xFF,0xFF,0xFF,0xF0,0x00,0x00,0x00,0x00,0x3F,0xFF,0xFF,0xFF,0xFF,0xF8,0x00,0x00,0x00,0x00,0x7F,0xFF,0xFF,0xFF,0xFF,0xFC,0x00,0x00,0x00,0x01,0xFF,0xFF,0x6F,0xDF,0xFF,0xFF,0x00,0x00,0x00,0x01,0xFF,0xFA,0x00,0x00,0xF5,0xFF,0x80,0x00,0x00,0x03,0xFF,0xF8,0x00,0x00,0x0F,0xBF,0xC0,0x00,0x00,0x07,0xFF,0xE0,0x00,0x00,0x03,0xFF,0xE0,0x00,0x00,0x0F,0xFE,0x00,0x00,0x00,0x00,0xF7,0xF0,0x00,0x00,0x1F,0xF8,0x00,0x00,0x00,0x00,0x3F,0xF0,0x00,0x00,0x3F,0xE0,0x00,0x00,0x00,0x00,0x0B,0xFC,0x00,0x00,0x3F,0xC0,0x00,0x00,0x00,0x00,0x07,0xFC,0x80,0x00,0x7F,0x80,0x00,0x00,0x00,0x00,0x01,0x7E,0x80,0x00,0x7F,0x80,0x00,0x00,0x00,0x00,0x03,0xFE,0x00,0x00,0xFF,0x00,0x00,0x00,0xFF,0x80,0x01,0xFF,0xC0,0x01,0xFE,0x00,0x00,0x0F,0xFF,0xC0,0x00,0x3F,0xA0,0x03,0xFC,0x00,0x00,0x1F,0xFF,0x00,0x00,0x5F,0xC0,0x03,0xFC,0x00,0x00,0x7F,0xFF,0x00,0x00,0x7F,0xE0,0x07,0xF8,0x00,0x00,0xFF,0xFE,0x00,0x00,0x2F,0xF0,0x07,0xF8,0x00,0x01,0xFF,0xF8,0x00,0x00,0x3F,0xE0,0x0F,0xE0,0x00,0x07,0xFF,0xF0,0x00,0x00,0x1F,0xFC,0x0F,0xE0,0x00,0x0F,0xFF,0xE7,0xE0,0x00,0x0B,0xFC,0x1F,0xE0,0x00,0x1F,0xFF,0xCF,0xC0,0x00,0x0B,0xFC,0x1F,0xE0,0x00,0x1F,0xFF,0xFF,0xF8,0x00,0x07,0xFA,0x1F,0xC0,0x00,0x3F,0xFF,0xFF,0xFE,0x80,0x07,0xFE,0x3F,0xC0,0x00,0x7F,0xFF,0xFF,0xFF,0xE0,0x03,0xFF,0x3F,0xC0,0x00,0x7F,0xFF,0xFF,0xFF,0xF0,0x03,0xFF,0x3F,0xC0,0x00,0xFF,0xFF,0xFF,0xFF,0x30,0x03,0xFF,0x7F,0xC0,0x00,0xFF,0xFF,0xFF,0xFF,0x00,0x03,0xFF,0x7F,0xC0,0x01,0xFF,0xBF,0xFF,0xF7,0x80,0x03,0xFF,0x7F,0xC0,0x03,0xFC,0x3F,0xFF,0xE0,0x00,0x03,0xFF,0xFF,0xC0,0x03,0xFC,0x1F,0xFF,0xC4,0x00,0x03,0xFF,0x7F,0xC0,0x07,0xF8,0x1F,0xFF,0xFE,0x00,0x03,0xFF,0x7F,0xC0,0x07,0xE0,0x1F,0xFF,0xFF,0x20,0x03,0xFF,0xFF,0xC0,0x07,0xE0,0x7F,0xFF,0xFF,0x40,0x03,0xFF,0xFF,0xC0,0x0F,0xE3,0xFF,0xFF,0xFF,0xF0,0x01,0xFF,0xFF,0xC0,0x0F,0xFF,0xFF,0xFF,0xFF,0xF0,0x01,0xFF,0xFF,0xC0,0x0B,0xFF,0xFF,0xFF,0xFF,0xF0,0x01,0xFF,0xFF,0xC0,0x01,0xFF,0xFF,0xFF,0xFF,0xF0,0x01,0xFF,0xFF,0xC0,0x01,0xFF,0xFF,0xFF,0xFF,0xF8,0x01,0xFF,0xFF,0xC0,0x07,0xFF,0xFF,0xFF,0xFF,0xF0,0x03,0xFF,0x3F,0xE0,0x07,0xFF,0xFF,0xFF,0xFE,0x70,0x01,0xFF,0x7F,0xE0,0x07,0xFF,0xFB,0xFF,0xF1,0xF0,0x03,0xFE,0x7F,0xE0,0x07,0xFF,0xE7,0xFF,0xE0,0xF0,0x01,0xFE,0x5F,0xF0,0x0F,0xFF,0xE7,0xFF,0xC0,0xB0,0x03,0xFE,0x3F,0xF0,0x0F,0xFE,0x07,0xFF,0x80,0x60,0x03,0xFE,0x3F,0xF0,0x01,0xFD,0x0F,0xFF,0x80,0x00,0x03,0xFC,0x2F,0xF8,0x00,0xF8,0x07,0xFF,0x00,0x00,0x03,0xFC,0x2F,0xF8,0x00,0xE8,0x0F,0xFF,0x00,0x00,0x03,0xFC,0x1F,0xF8,0x01,0xA0,0x07,0xFF,0x00,0x00,0x07,0xF8,0x1F,0xF8,0x00,0x00,0x0F,0xFE,0x00,0x00,0x0F,0xF0,0x0F,0xFC,0x00,0x00,0x1F,0xFF,0x00,0x00,0x0F,0xF0,0x0F,0xFC,0x00,0x00,0x3F,0xFF,0x00,0x00,0x1F,0xF0,0x0F,0xF8,0x00,0x00,0x7F,0xFE,0x00,0x00,0x3F,0xE0,0x07,0xF8,0x00,0x00,0xFF,0xFE,0x00,0x00,0x3F,0xE0,0x05,0xFE,0x00,0x01,0xFF,0xFE,0x00,0x00,0x7F,0xC0,0x07,0xFE,0x00,0x00,0xFF,0xFE,0x00,0x00,0xFF,0x80,0x06,0xFF,0x00,0x03,0xFF,0xFC,0x00,0x01,0xFF,0x80,0x03,0x7F,0x08,0x03,0xFF,0xFC,0x00,0x03,0xFF,0x00,0x03,0x7F,0xC0,0x01,0x5F,0xFC,0x00,0x07,0xFE,0x00,0x00,0xBF,0xF0,0x00,0x7F,0xFC,0x00,0x1F,0xFC,0x00,0x00,0x17,0xF8,0x00,0x37,0xFC,0x00,0x7F,0xFC,0x00,0x00,0x3F,0xFE,0x00,0x17,0xFC,0x01,0xFF,0xF8,0x00,0x00,0x1F,0xFF,0x80,0x0F,0xF8,0x07,0xFF,0xF0,0x00,0x00,0x0F,0xFF,0xE0,0xAF,0xFC,0x0F,0xFF,0xE0,0x00,0x00,0x03,0xFF,0xFF,0xF8,0xFF,0xBF,0xFF,0x80,0x00,0x00,0x01,0xFF,0xFF,0xFE,0xFF,0xFF,0xFF,0x80,0x00,0x00,0x00,0xFF,0xFF,0xFF,0x6F,0xFF,0xFE,0x80,0x00,0x00,0x00,0x7F,0xFF,0xFF,0x3F,0xFF,0xFE,0x00,0x00,0x00,0x00,0x3F,0xFF,0xFF,0x9D,0xFF,0xF8,0x00,0x00,0x00,0x00,0x07,0xFF,0xFF,0xFE,0xFF,0xF0,0x00,0x00,0x00,0x00,0x01,0xBF,0xFF,0xFF,0xFF,0x80,0x00,0x00,0x00,0x00,0x00,0xEF,0xFF,0xFF,0xBC,0x00,0x00,0x00,0x00,0x00,0x00,0x77,0x7F,0xF8,0xE4,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0xF7,0xF0,0xD8,0x00,0x00,0x00}};
   static BITMAP orage_d = {80,80,{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x34,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x5F,0xFA,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x67,0xFF,0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x0F,0x3F,0xFF,0xFF,0xFE,0x00,0x00,0x00,0x00,0x00,0x0D,0xFF,0xFF,0xFF,0xFF,0x80,0x00,0x00,0x00,0x00,0x3F,0xFF,0xFA,0x83,0xFF,0xE0,0x00,0x00,0x00,0x00,0x7F,0xFF,0x80,0x00,0x7F,0xF8,0x00,0x00,0x00,0x00,0xFF,0xFC,0x00,0x00,0x07,0xFC,0x00,0x00,0x00,0x01,0xFF,0x80,0x00,0x00,0x01,0x7F,0x00,0x00,0x00,0x03,0xFE,0x00,0x00,0x00,0x00,0x3F,0x80,0x00,0x00,0x07,0xFC,0x00,0x00,0x00,0x00,0x0F,0x80,0x00,0x00,0x0F,0xF0,0x00,0x00,0x00,0x00,0x07,0xC0,0x00,0x00,0x1F,0xF0,0x00,0x00,0x00,0x00,0x01,0xE0,0x00,0x00,0x3F,0xE0,0x00,0x00,0x00,0x00,0x00,0xF0,0x00,0x00,0x3F,0xC0,0x00,0x00,0x00,0x00,0x00,0xF8,0x00,0x00,0x3F,0x80,0x00,0x00,0x00,0x00,0x00,0x7C,0x00,0x00,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x00,0x00,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x00,0x01,0xFE,0x00,0x00,0x07,0x5F,0x80,0x00,0x1F,0x00,0x01,0xFC,0x00,0x00,0x05,0xFE,0x00,0x00,0x1F,0x00,0x01,0xF8,0x00,0x00,0x06,0xFE,0x00,0x00,0x0F,0x80,0x03,0xF8,0x00,0x00,0x07,0xF8,0x00,0x00,0x0F,0x80,0x03,0xF0,0x00,0x00,0x07,0xF0,0x00,0x00,0x07,0xC0,0x07,0xE0,0x00,0x00,0x03,0xC0,0x00,0x00,0x03,0xE0,0x0F,0xE0,0x00,0x00,0x02,0x00,0x00,0x00,0x03,0xE0,0x0F,0xC0,0x00,0x00,0x02,0x00,0x00,0x00,0x03,0xE0,0x0F,0xC0,0x00,0x00,0x01,0x81,0x00,0x00,0x01,0xE0,0x1F,0xC0,0x00,0x00,0x01,0x8F,0xF4,0x00,0x01,0xF0,0x1F,0xC0,0x00,0x00,0x02,0x7F,0xFF,0xC0,0x01,0xF9,0x1F,0xC0,0x00,0x00,0x01,0xFF,0xFF,0xE0,0x00,0xFD,0x3F,0xC0,0x00,0x01,0x02,0xFF,0xFC,0x00,0x00,0xFD,0x3F,0xC0,0x00,0x81,0x01,0x7F,0xE0,0x00,0x00,0xFF,0x3F,0x80,0x00,0x86,0x01,0xBF,0xC0,0x00,0x00,0xFB,0x3F,0x80,0x01,0x08,0x00,0x7E,0x00,0x00,0x00,0xFF,0x3F,0x80,0x03,0x10,0x00,0x7F,0x00,0x00,0x00,0xFF,0x7E,0x80,0x03,0xA0,0x00,0xFF,0x80,0x00,0x00,0xFD,0x7F,0x80,0x07,0xC0,0x00,0xFF,0xEA,0x00,0x00,0xFF,0x3E,0x80,0x07,0xC0,0x01,0xFF,0xFF,0x00,0x00,0xFF,0x3F,0x40,0x00,0xC0,0x01,0xFF,0xFF,0x80,0x00,0x7F,0x3F,0x00,0x00,0xE0,0x00,0xBF,0xFF,0xC0,0x00,0xFF,0x3E,0x40,0x00,0xFC,0x00,0x7F,0xFF,0xC0,0x00,0xFF,0x3F,0x00,0x01,0xFE,0x00,0x1F,0xFF,0xE0,0x00,0xFF,0x3F,0x40,0x01,0xFC,0x00,0x7F,0xFF,0xF0,0x00,0xFF,0x3F,0x00,0x03,0xE8,0x00,0x2F,0xF8,0xF0,0x00,0xFF,0x3F,0x80,0x07,0xD0,0x00,0x27,0xF0,0x70,0x01,0xFE,0x1F,0x00,0x07,0xD0,0x00,0x0F,0xC0,0x30,0x01,0xFE,0x1F,0xC0,0x07,0xD0,0x00,0x05,0xC0,0x10,0x01,0xFE,0x1F,0x80,0x01,0xF6,0x00,0x03,0xC0,0x30,0x01,0xFE,0x0F,0x80,0x00,0x7C,0x00,0x02,0x80,0x00,0x03,0xFC,0x0F,0xC0,0x00,0x78,0x00,0x01,0x00,0x00,0x03,0xFC,0x0F,0xC0,0x00,0x60,0x00,0x01,0x00,0x00,0x03,0xFC,0x07,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xF8,0x07,0xC8,0x00,0x00,0x04,0x00,0x00,0x00,0x03,0xF8,0x07,0xC8,0x00,0x00,0x04,0x00,0x00,0x00,0x0F,0xF0,0x07,0xE0,0x00,0x00,0x08,0x00,0x00,0x00,0x0F,0xF0,0x07,0xC0,0x00,0x00,0x1A,0x00,0x00,0x00,0x1F,0xE0,0x03,0xE0,0x00,0x00,0x3E,0x00,0x00,0x00,0x1F,0xE0,0x03,0xF0,0x00,0x00,0x7D,0x00,0x00,0x00,0x3F,0xE0,0x01,0xF8,0x00,0x01,0xFF,0x80,0x00,0x00,0x7F,0xC0,0x00,0xFC,0x00,0x00,0xFF,0xC0,0x00,0x00,0x7F,0x80,0x00,0xFE,0x00,0x00,0x3F,0x00,0x00,0x00,0xFF,0x00,0x00,0x7E,0x00,0x00,0x1F,0xC0,0x00,0x03,0xFF,0x00,0x00,0x3F,0x00,0x00,0x1A,0x00,0x00,0x07,0xFE,0x00,0x00,0x0F,0xE0,0x00,0x0E,0x00,0x00,0x0F,0xFC,0x00,0x00,0x07,0xF0,0x00,0x01,0x80,0x00,0x3F,0xF8,0x00,0x00,0x03,0xF8,0x00,0x00,0x40,0x00,0xFF,0xF0,0x00,0x00,0x01,0xFE,0x00,0x00,0x68,0x02,0x9F,0xF0,0x00,0x00,0x01,0xFF,0x00,0x00,0x28,0x0F,0xBF,0xE0,0x00,0x00,0x00,0x1F,0xF4,0x00,0x0C,0x07,0xFF,0x80,0x00,0x00,0x00,0x0F,0xFF,0xB0,0x0D,0x01,0xFF,0x00,0x00,0x00,0x00,0x0F,0xFF,0xFC,0x02,0x6B,0xFE,0x00,0x00,0x00,0x00,0x03,0xFF,0xFE,0x01,0xAB,0xF8,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x89,0xE0,0x00,0x00,0x00,0x00,0x00,0x3F,0xFF,0xD0,0x55,0x80,0x00,0x00,0x00,0x00,0x00,0x1F,0xFF,0xFC,0x14,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xCF,0xFC,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}};

	 static BITMAP aerial_l = {96,160,{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x00,0x3F,0xF3,0xFF,0xC7,0x8E,0x00,0x70,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x00,0x80,0x02,0x00,0x26,0x98,0x00,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x00,0x40,0x02,0x00,0x64,0x11,0x00,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x90,0x01,0x00,0x02,0x00,0x84,0x04,0x00,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x88,0x01,0xFF,0xF3,0xFF,0xA4,0x02,0x00,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0xA0,0x03,0x0C,0x24,0x05,0x00,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE2,0xE0,0x3F,0xF3,0xFB,0xC7,0x88,0xB8,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x95,0xE0,0x40,0x03,0xF1,0xC4,0x81,0x78,0x70,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xF0,0x40,0x03,0x81,0x87,0x88,0x3C,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xD0,0x44,0x0A,0x52,0x80,0x46,0x98,0x10,0x4D,0x6C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0x3D,0x7F,0xF3,0x80,0xE7,0x9C,0x0F,0x5F,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x90,0x12,0x00,0x00,0x80,0x14,0xA4,0x04,0x80,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x48,0x12,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xA0,0x04,0x00,0x04,0x00,0x8D,0x00,0x78,0x0E,0x60,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x10,0x00,0x00,0x08,0x00,0x18,0x80,0x40,0x00,0x40,0x01,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x28,0x00,0x00,0x0C,0x00,0x11,0x40,0x68,0x00,0x00,0x01,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x28,0x00,0x00,0x0C,0x00,0x11,0x40,0x68,0x00,0x00,0x01,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x14,0x00,0x00,0x0E,0x00,0x10,0xA0,0x68,0x00,0x00,0x01,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x08,0x00,0x00,0x8C,0x01,0x10,0x40,0x48,0x00,0x00,0x01,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x83,0x02,0xFF,0x8D,0xFF,0x1C,0x18,0x78,0x04,0x20,0x01,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x79,0x81,0xFC,0x03,0xFB,0x13,0xCC,0x6C,0x2C,0x30,0x01,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xFF,0xC7,0xFC,0x4F,0xFD,0x9F,0xFE,0x7F,0xFE,0x23,0xF9,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x81,0x03,0xFE,0x0F,0xFC,0x14,0x08,0x03,0xC4,0xCF,0xF1,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x77,0xFF,0x0F,0xFE,0x98,0x03,0xCF,0xF0,0x5F,0xF9,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x80,0x77,0xFF,0x0F,0xFE,0x1C,0x03,0x8F,0xF0,0x1F,0xF9,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xE0,0x00,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x5F,0x00,0x00,0x70,0x00,0x00,0x00,0x00,0x00,0xFE,0x48,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x86,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,0x02,0xBD,0xFB,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0B,0xEC,0x00,0x00,0x9C,0x00,0x00,0x00,0x00,0x0D,0xFF,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x17,0xE4,0x00,0x01,0x00,0x00,0x00,0x00,0x1F,0x8C,0xFF,0xDD,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0xE8,0x00,0x03,0x00,0x00,0x00,0x00,0x1F,0x8C,0xFF,0xDD,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0xE8,0x00,0x03,0x00,0x00,0x00,0x0C,0xE0,0x80,0x4C,0xFE,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xE8,0x00,0x06,0x03,0x80,0x00,0x7F,0xFF,0xFE,0x3C,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x78,0x00,0x04,0x00,0x00,0x03,0xFF,0xFF,0xFF,0xDE,0x00,0x03,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0xBE,0xF8,0x00,0x08,0x02,0x00,0x07,0xFF,0xFF,0xFF,0xFF,0xFF,0xD6,0xE8,0x20,0x00,0x00,0x00,0x00,0x00,0xFF,0xC0,0x00,0x10,0x02,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0x82,0x20,0x00,0x00,0x00,0x00,0x00,0x7F,0xC0,0x00,0x00,0x02,0x00,0x06,0xBF,0xFF,0xFF,0xDF,0xFF,0xFB,0xE8,0x70,0x00,0x00,0x00,0x00,0x01,0xFF,0xC0,0x00,0x20,0x02,0x00,0x01,0xFF,0xFF,0xFE,0x85,0x4A,0xBF,0xFE,0x10,0x00,0x00,0x00,0x00,0x03,0xFF,0xC0,0x00,0x60,0x04,0x00,0x00,0x78,0x7F,0xFF,0xFF,0xDF,0xC7,0xFF,0xE0,0x00,0x00,0x00,0x00,0x03,0xFB,0xC0,0x00,0xC0,0x04,0x00,0x00,0x2E,0x07,0x71,0xFF,0xBB,0xF8,0xFF,0xF0,0x00,0x00,0x00,0x00,0x07,0xFF,0xC0,0x01,0x80,0x08,0x00,0x00,0x09,0xC4,0x27,0xFF,0xDF,0x7F,0x8F,0xFC,0x40,0x00,0x00,0x00,0x1F,0xFF,0xC0,0x01,0x00,0x04,0x00,0x00,0x01,0xBC,0x4B,0xFF,0xFD,0xBF,0xF9,0x47,0xE7,0x80,0x00,0x00,0x1F,0xFF,0xC0,0x02,0x00,0x10,0x00,0x00,0x00,0x2F,0xE9,0xFF,0xCF,0x2B,0xFE,0x00,0x1F,0xC0,0x00,0x00,0x1F,0xFF,0x80,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0xFF,0xFB,0xC3,0x60,0x00,0x06,0xF0,0x80,0x00,0x3F,0xF7,0x80,0x08,0x00,0x00,0x00,0x00,0x00,0x08,0x0F,0xFE,0xFE,0xF8,0x78,0x00,0x00,0xFD,0xC0,0x00,0x7F,0xFF,0x80,0x00,0x00,0x10,0x00,0x00,0x00,0x00,0x01,0xBF,0x1F,0xBD,0x70,0x00,0x00,0x5F,0x87,0x03,0x7F,0xFF,0x80,0x38,0x00,0x08,0x00,0x00,0x00,0x00,0x00,0x6F,0xDB,0xEE,0xE0,0x00,0x00,0x0B,0x40,0x76,0xFF,0xEF,0x40,0x70,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF1,0xE4,0x2E,0xC0,0x00,0x00,0x00,0xF2,0x0F,0xFF,0xFF,0x00,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xB8,0x70,0x7F,0xC0,0x00,0x00,0x00,0x7F,0xD7,0xFF,0xDF,0x00,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x1C,0xFF,0xC0,0x00,0x00,0x00,0x05,0x7F,0xFF,0xFF,0x01,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x03,0xFB,0xC0,0x00,0x00,0x00,0x00,0x2F,0xFF,0xFF,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0D,0xEF,0xFE,0x20,0x00,0x1F,0x2D,0x23,0xFF,0xBF,0x4A,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0xEB,0xB7,0xE0,0x03,0xFF,0xBF,0xBF,0xFF,0xFE,0xF2,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0C,0xE3,0xFE,0x2C,0x39,0xFF,0xDF,0xFF,0xFF,0xFE,0x7E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x06,0xE0,0x1F,0xDF,0xDE,0xFF,0xDF,0xFF,0xFF,0xFE,0x8F,0x80,0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x06,0xE0,0x1F,0xDF,0xDE,0xFF,0xDF,0xFF,0xFF,0xFE,0x8F,0x80,0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x0C,0x20,0x00,0xFF,0xFE,0xFF,0xE7,0xFF,0xFF,0xF8,0xE3,0xF0,0x00,0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x7F,0xFE,0xFD,0xFD,0xFF,0xFF,0xFF,0xFC,0xFC,0x00,0x3F,0xC0,0x00,0x00,0x00,0x00,0x00,0x08,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xAF,0xFF,0xFE,0xFF,0x7E,0x00,0x0F,0xE8,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0xFF,0x87,0xFB,0xFF,0xFF,0xF1,0xFF,0xFF,0xFF,0xFF,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x01,0xFE,0x82,0x66,0xFF,0xFF,0xFE,0x18,0x0F,0xFF,0xFF,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x00,0xFF,0xA1,0x6D,0x6F,0xFF,0xFF,0xE0,0x01,0xFF,0xFF,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x54,0x00,0x7F,0xFB,0xFF,0xEF,0xDF,0xFF,0xA3,0xF0,0x3F,0xBF,0xF9,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x00,0x1F,0xFC,0xEF,0xFF,0xC3,0xFF,0xFF,0xFF,0xFF,0xDF,0xFE,0xE7,0x00,0x00,0x00,0x00,0x00,0x00,0x78,0x00,0x07,0xFF,0xCE,0xC5,0xC0,0x07,0xFF,0xFF,0xAF,0xFF,0xFF,0xA1,0xC0,0x00,0x00,0x00,0x00,0x00,0x08,0x00,0x03,0xFE,0xDD,0xFD,0x00,0x05,0x7F,0xFF,0xCF,0xDF,0xF7,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xBD,0xFF,0x41,0x20,0x7F,0xFF,0xFF,0xBF,0x86,0xFA,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0xF0,0x3F,0xFF,0xE0,0x00,0x7F,0xFD,0xFF,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x7C,0x03,0xFD,0x80,0x00,0x07,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0xBF,0x70,0x7A,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0D,0x61,0xFF,0x01,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0xC0,0x70,0xFF,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x80,0x70,0x7F,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}};
	 static BITMAP aerial_d = {96,160,{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x78,0x00,0x7F,0xF3,0xFF,0xC3,0x1E,0x00,0x70,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x01,0x80,0x02,0x00,0x02,0x30,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x48,0x00,0x00,0x00,0x01,0x02,0x32,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x44,0x00,0x00,0x00,0x01,0x02,0x31,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x42,0x01,0xFF,0xF3,0xFF,0x02,0x30,0x80,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x41,0x01,0x80,0x02,0x00,0x02,0x30,0x40,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x5F,0x01,0x80,0x02,0x0C,0x02,0x37,0xC0,0x48,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x5F,0x01,0x80,0x02,0x06,0x02,0x37,0xC0,0x6C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x39,0xFF,0xF3,0x03,0x83,0x30,0x0E,0x77,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x1E,0xFF,0xF3,0x81,0xE3,0x38,0x07,0xBF,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x0C,0x3F,0xF3,0x00,0xE3,0x18,0x03,0x0F,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xC0,0x00,0xFF,0xC3,0xFF,0x8E,0x00,0x30,0x0C,0x60,0x01,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x40,0x03,0xFF,0xCF,0xFF,0x1A,0x00,0x20,0x18,0xC0,0x01,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x06,0x00,0x0C,0x00,0x10,0x00,0x20,0x18,0x80,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x40,0x06,0x00,0x08,0x00,0x12,0x00,0x20,0x18,0xC0,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x40,0x06,0x00,0x08,0x00,0x12,0x00,0x20,0x18,0xC0,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x20,0x06,0xFF,0x09,0xFE,0x11,0x00,0x20,0x18,0xC0,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x10,0x06,0xFF,0x49,0xFE,0x90,0x80,0x20,0x18,0xC0,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x0C,0x01,0x00,0x42,0x00,0x90,0x60,0x20,0x18,0xC0,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0xFC,0x00,0x01,0x80,0x02,0x17,0xE0,0x28,0x10,0xD0,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x01,0x80,0x02,0x10,0x00,0x24,0x20,0xD8,0x01,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0xE7,0xFF,0xCF,0xFF,0x98,0x07,0x7F,0xF8,0x7F,0xF9,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x80,0xF3,0xFF,0xCF,0xFF,0x1C,0x07,0x9F,0xF8,0x3F,0xF9,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xA0,0x00,0x01,0x80,0x00,0x00,0x00,0x00,0x00,0xBC,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x78,0x00,0x00,0x7E,0x00,0x00,0x00,0x00,0x05,0x9E,0x12,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x18,0x00,0x00,0x7F,0x00,0x00,0x00,0x00,0x0F,0xBE,0x31,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x08,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x7F,0xFC,0x20,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x1C,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x7F,0xFC,0x20,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x1C,0x00,0x00,0xFF,0x00,0x00,0x00,0x1F,0x7F,0xFF,0x21,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x00,0x01,0xFF,0x00,0x00,0x00,0x00,0x01,0xDB,0xFF,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xFE,0x00,0x00,0x00,0x00,0x00,0x31,0xFF,0xFC,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x07,0xFC,0x00,0x08,0x00,0x00,0x00,0x20,0x00,0x29,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x00,0x0F,0xFC,0x00,0x0E,0x00,0x00,0x00,0x20,0x00,0x01,0x7C,0x20,0x00,0x00,0x00,0x00,0x01,0x80,0x30,0x00,0x1F,0xFC,0x00,0x07,0xC0,0x00,0x00,0x20,0x00,0x04,0x17,0x80,0x00,0x00,0x00,0x00,0x02,0x00,0x30,0x00,0x1F,0xFC,0x00,0x01,0xF0,0x00,0x00,0x00,0x00,0x00,0x01,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x1F,0xF8,0x00,0x00,0x7F,0x80,0x01,0x80,0x20,0x38,0x00,0x1C,0x00,0x00,0x00,0x00,0x04,0x00,0x20,0x00,0x3F,0xF8,0x00,0x00,0x1F,0xF8,0x8F,0xC0,0x60,0x07,0x00,0x0F,0x00,0x00,0x00,0x00,0x08,0x00,0x20,0x00,0x7F,0xFC,0x00,0x00,0x07,0xFF,0xDF,0xE0,0x38,0x00,0x70,0x03,0x80,0x00,0x00,0x00,0x00,0x00,0x20,0x00,0xFF,0xF8,0x00,0x00,0x00,0x7F,0xF7,0xF0,0x0E,0x00,0x06,0xB8,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x01,0xFF,0xF8,0x00,0x00,0x00,0x1F,0xFF,0xF8,0x27,0xC0,0x01,0xFF,0xE0,0x00,0x00,0x00,0x20,0x00,0x40,0x03,0xFF,0xF8,0x00,0x00,0x00,0x18,0xFF,0xFC,0x07,0xF8,0x1F,0xFF,0xF8,0x0F,0x80,0x00,0x40,0x00,0x40,0x07,0xFF,0xF8,0x00,0x00,0x00,0x18,0x0F,0xFF,0x01,0xFF,0x87,0xFF,0xFF,0x03,0xF0,0x00,0x00,0x00,0x40,0x0F,0xFF,0xF8,0x00,0x00,0x00,0x00,0x00,0xFF,0xE0,0x7F,0x8F,0xFF,0xFF,0xA0,0x7F,0x80,0x80,0x00,0x40,0x07,0xFF,0xF0,0x00,0x00,0x00,0x00,0x00,0x1F,0xE4,0x1F,0x1F,0xFF,0xFF,0xF4,0xBF,0xFF,0x00,0x00,0x80,0x0F,0xFF,0xF0,0x00,0x00,0x00,0x00,0x00,0x0F,0xFF,0xDF,0x3F,0xFF,0xFF,0xFF,0x0D,0xFC,0x00,0x00,0x80,0x1F,0xFF,0xF0,0x00,0x00,0x00,0x00,0x01,0xC7,0x8F,0xFE,0x3F,0xFF,0xFF,0xFF,0x80,0x28,0x00,0x00,0x80,0x3F,0xFF,0xF0,0x00,0x00,0x00,0x00,0x00,0x3B,0x0F,0xFC,0x3F,0xFF,0xFF,0xFF,0xF8,0x00,0x00,0x00,0x80,0x7F,0xFF,0xF0,0x00,0x00,0x00,0x00,0x00,0x07,0x0F,0xFC,0x3F,0xFF,0xFF,0xFF,0xFF,0x90,0x00,0x00,0xF1,0xFF,0xFF,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0xF8,0x01,0xDF,0xFF,0xE0,0xD2,0xFC,0x00,0x00,0xFD,0xFF,0xFF,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0xE7,0xC8,0x1F,0xFC,0x00,0x40,0x40,0x00,0x01,0xFD,0xFF,0xFF,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xE0,0xFF,0xC3,0xC6,0x00,0x20,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x0F,0xF0,0x3F,0x00,0x20,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x0F,0xF0,0x3F,0x00,0x20,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x01,0xFF,0xFF,0x00,0x18,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xFF,0x03,0xFE,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xE0,0x00,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x7F,0xFF,0xFF,0xFF,0xD0,0x00,0x01,0xFF,0xFF,0xFF,0xF0,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0x00,0x01,0xFF,0xFF,0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x03,0xFF,0x7F,0xFB,0xFF,0xFF,0xFF,0xE7,0xF0,0xFF,0xFF,0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x4C,0x01,0xFF,0xDE,0xF6,0xFF,0xFF,0xFF,0xFF,0xFE,0x3F,0xFF,0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x6C,0x00,0xFF,0xF4,0xF7,0xFF,0xDF,0xFF,0xFC,0x0F,0xFF,0xFF,0xFE,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x4C,0x00,0x3F,0xFF,0xEF,0xFF,0xC1,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x38,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x00,0x0F,0xFF,0xEF,0x83,0xC0,0x3F,0xFF,0xFF,0xC7,0xFF,0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x00,0x01,0xFF,0xFE,0x00,0xC0,0x02,0xFF,0xFF,0xF7,0xFF,0xEF,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3E,0x7A,0x00,0x00,0xC0,0x0F,0xFF,0xFF,0xFF,0xC1,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0x3F,0xC0,0x03,0xE0,0x00,0xFF,0xFF,0xFF,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0xBF,0xFC,0x03,0xC0,0x00,0x07,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0D,0x7F,0xFF,0x85,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x06,0xE3,0xFF,0xFE,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xC0,0xFF,0xFF,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}};

	/* Image Orage */
	degrade(1);
	ClrScr();	
		

SetPlane(LIGHT_PLANE);
ClrScr();
	/* Image Orage light */
	BitmapPut(10,5,&orage_l,&(SCR_RECT){{0,0,160,100}},A_NORMAL);


SetPlane(DARK_PLANE);
ClrScr();

	/* Image Orage dark */
	BitmapPut(10,5,&orage_d,&(SCR_RECT){{0,0,160,100}},A_NORMAL);
	
	
	FontSetSys(F_8x10);	
	
	DrawStrXY(106, 40, "Orage", A_NORMAL);
	DrawStrXY(101, 52, "Studio", A_NORMAL);
	DrawStrXY(110, 64, "2003", A_REVERSE);
	FontSetSys(F_4x6);
	DrawStrXY(90, 75, "by Vincent CORFDIR", A_NORMAL);
	DrawStrXY(0, 93, "Http://oragestudio.free.fr", A_NORMAL);
	
	degrade(2);
 	
	while(!(_rowread(0x7E)&0x10))
	{
		sleep(100);		
	}
	
	degrade(1);	
	ClrScr();
	
SetPlane(LIGHT_PLANE);
ClrScr();
	/* Image Aerial light */
	BitmapPut(1,1,&aerial_l,&(SCR_RECT){{0,0,160,100}},A_NORMAL);


SetPlane(DARK_PLANE);
ClrScr();
	/* Image Aerial dark */
	BitmapPut(1,1,&aerial_d,	&(SCR_RECT){{0,0,160,100}},A_NORMAL);
	DrawStrXY(60, 40, "v. 1.6 (USA/UK)", A_NORMAL);	
	degrade(2);
	
	while(!(_rowread(0x7E)&0x10))
	{
		sleep(100);		
	}
	
  SetPlane(LIGHT_PLANE);
	BitmapPut(1,1,&aerial_d,	&(SCR_RECT){{0,0,160,100}},A_NORMAL);  	
}	
  


/* ============================== Menu ============================== */	
int menu(void)
{	
  short choice = 30; 
  char record_buffer[20];
  
  /* enemy 1 */
  static unsigned char arrow[] = {0x40,0x60,0x70,0x7C,0x70,0x60,0x40};  

  sprintf(record_buffer, "RECORD : %05u", record);
     
  SetPlane(DARK_PLANE);
  DEPARTMENU:
	degrade(1);	
	clrscr();   
	 
  FontSetSys(F_8x10);
	DrawStrXY(64, 1, "Menu", A_REVERSE);
	DrawStrXY(24, 15, record_buffer, A_NORMAL);
	FontSetSys(F_6x8);
	DrawStrXY(60, 30, "-Start-", A_NORMAL);
	DrawStrXY(60, 40, "Contrast +", A_NORMAL);
  DrawStrXY(60, 50, "Contrast -", A_NORMAL);
  DrawStrXY(60, 60, "Speed +", A_NORMAL);
  DrawStrXY(60, 70, "Speed -", A_NORMAL); 
 	DrawStrXY(60, 80, "Credits", A_NORMAL);
 	DrawStrXY(60, 90, "Leave", A_NORMAL);
 	FontSetSys(F_4x6);
 	switch(deceleration)
 	{
 		case 0:
 		  DrawStrXY(5, 40, "Speed : fast ", A_REVERSE);
 		  break;
 		case 400:
 		  DrawStrXY(5, 40, "Speed :  normal ", A_REVERSE);
 		  break;
 		case 800:
 		  DrawStrXY(6, 40, "Speed : low ", A_REVERSE);
 		  break;
 	}
	degrade(2);	  	
	Sprite8(50, choice, 7, arrow, GetPlane(DARK_PLANE), SPRT_XOR);
	
	while(!(_rowread(0x7E)&0x10))
	{
		Sprite8(50, choice, 7, arrow, GetPlane(DARK_PLANE), SPRT_XOR);
			if((_rowread(0x7E)&0x1) && (choice > 30))
				choice-=10;
	
			if((_rowread(0x7E)&0x4) && (choice < 90))
				choice+=10;		
		Sprite8(50, choice, 7, arrow, GetPlane(DARK_PLANE), SPRT_XOR);  
	  sleep(4000);			
	}
	switch (choice)
	{
	  case 30:
	      choice = 0;
	      break;
		case 40:
		    OSContrastUp();
				goto DEPARTMENU;
				break;
		case 50:
		    OSContrastDn();
		    goto DEPARTMENU;
		    break; 
		case 60:
		    if(deceleration > 0)
		    {
		      deceleration-=400;		    	
		    }	      
		    goto DEPARTMENU;
		    break; 
		case 70:
		    if(deceleration < 800)
		    {
		      deceleration+=400;		    	
		    }      
		    goto DEPARTMENU;
		    break;
		case 80:
		    degrade(1);
		    clrscr();
		    FontSetSys(F_8x10);
		    DrawStrXY(49, 1, "Credits", A_REVERSE);
		    FontSetSys(F_6x8);
		    DrawStrXY(1, 40, "Made by :", A_NORMAL);
		    FontSetSys(F_4x6);
		    DrawStrXY(30, 50, "Vincent CORFDIR", A_NORMAL);
		    FontSetSys(F_6x8);
		    DrawStrXY(1, 60, "Thanks to", A_NORMAL);
		    FontSetSys(F_4x6);
		    DrawStrXY(30, 70, "Squale92 and Verstand", A_NORMAL);		    
		    DrawStrXY(30, 76, "Studio Tastalian", A_NORMAL);
		    DrawStrXY(30, 82, "PASUTTO Thierry", A_NORMAL);
		    DrawStrXY(30, 90, "ticalc.org", A_NORMAL);		    
		    FontSetSys(F_6x8);
		    degrade(2);
		    while(!(_rowread(0x7E)&0x10))
		    {
		    	sleep(300);
		    }
		    goto DEPARTMENU;
		    break;
		case 90:
		    choice = 5;
				break;
		    
	}
	
 degrade(1);
 SetPlane(DARK_PLANE);
 ClrScr();
 SetPlane(LIGHT_PLANE);
 ClrScr();
	
	
 graphics_initial();
 degrade(2);
 FontSetSys(F_6x8);
 return choice;
}





/* ============================== range ============================== */	
void degrade(short d)
{
  short a;
  for(a=0 ; a<7 ; a++)
  {
		switch (d)
		{
		  case 1:
				OSContrastUp();
				sleep(2000);	
			  break;
			case 2:
				OSContrastDn();
				sleep(2000);	
				break;
		}	  	
  }
}



/* ============================== Sleep ============================== */
void sleep(short nbpause)
{
   short compt1, compt2;
  for(compt1=0 ; compt1<=nbpause ; compt1++)
  	for(compt2=0 ; compt2<=40 ; compt2++); 	
}


/* ============================== graphics initial ============================== */
void graphics_initial(void)
{
	short i;
	SetPlane(LIGHT_PLANE);
	for(i=100 ; i>=83 ; i--)
	  DrawLine(0, i, LCD_WIDTH, i, A_NORMAL);
}


/* ============================== shootings ============================== */
void shootings(void)
{ 
	  //shootings
    
    if(_rowread(0x7E)&0x10)
    {
    	for(j=0 ; j<3 ; j++)
    	{
	    	if((shooting[j].posx>=160) && ((meter-decelerations_shootings)>=9))
	    	{
	     	shooting[j].posx = (posx+26);
	    	shooting[j].posy = posy; 
	    	decelerations_shootings = meter;  		
	    	}    		
    	}
    }
    
	
	  //Incrementation of the shootings
	  for(j=0 ; j<3 ; j++)
	  {
		 	if(shooting[j].posx<=160)
			  {
			  	if(shooting[j].posx != (posx+26)) //is equivalent has ' if it is not the premiere position of the shooting = > deleting of old the pos... (mayber) before: "équivaut a 'si ce n'est pas la premiere position du shooting => effacage des anciennes pos..."
			  	  post_shooting();
			 
			  	shooting[j].posx+=5;
			  	post_shooting();	  		
			  }	  	
	  }

}


/* ============================== control collision ============================== */
void control_collision()
{
	/*If collision with the enemy i */
	if(invincibility > 200)
	{
		for(en=0 ; en<8 ; en++)// loop thru the enemies
		{
			if(((enemy[en].posy >= (posy-4)) && (enemy[en].posy <= (posy+4))) && ((enemy[en].posx <= (posx+24)) &&	(enemy[en].posx >= (posx-5))))
		  {// if you hit the enemy, run the collision routine
			  collision();
		  }		
		}   
		if(posy>80)
		  collision();			
	}
	else
	  invincibility++;
		
}


/* ============================== Collision ============================== */
void collision()
{								
  	post_large_explosion(); 
	  sleep(6000);  

	 	//To lower the contrast to continue has to play...
	 	degrade(1);
			  
    /* To erase the explosion*/
    post_large_explosion(); 
	 	
	 	//To lower the contrast to continue has to play...
	 	degrade(2);
	  posx = 0 ; posy = 42;
	 	/* The enemy now */
	  	if(en<3)// If it is a enemy of the type 1...
	  	{
		  	post_enemies_0();
		  	enemy[en].posx = 0;
		  	post_enemies_0();		
	  	}
	  	else if(en<5)// If it is one of type 2...
	  	{
	  	  post_enemies_1();
	   	  enemy[en].posx = 0;	
	  	  post_enemies_1();	   	    		
	  	}
	  	else if(en == 5)// If it is a missile...
	  	{
		  	post_missiles();
	   	  enemy[en].posx = LCD_WIDTH;  	
	  	  post_missiles();	   	    		
	  	}
	  	else if(en < 8)//If it is a conveying plane
	  	{
	  		post_enemies_2();
	  		enemy[en].posx = 0;
	  	  post_enemies_2();	  		
	  	}

		/* Decrementation of lives */   
		anc_pos_life = lives;
	 	lives--; 
	 	invincibility = 0;
	 	posting_lives();
}


/* ============================== posting of lives ============================== */
void posting_lives(void)
{

  /* Sprites of the hearts which symbolize the lives */
 	 static unsigned char life_dark[] = {0x00,0x6C,0xF2,0xF2,0x74,0x38,0x10,0x00};
   static unsigned char life_light[] = {0x00,0x00,0x0C,0x0C,0x08,0x00,0x00,0x00};
  
if(meter!=1)
 {
	 switch (anc_pos_life)
	 {
	 	case 0:
	 	   break;
	 	case 1:
	 	   /*Sprite8(1, 1, 8, life_dark, GetPlane(DARK_PLANE), SPRT_XOR);
	     Sprite8(1, 1, 8, life_light, GetPlane(LIGHT_PLANE), SPRT_XOR);*/
	     GraySprite8_XOR(1, 1, 8, life_light, life_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 		 	   	
	 	   break;
	
	  case 2:
	 	   /*Sprite8(1, 1, 8, life_dark, GetPlane(DARK_PLANE), SPRT_XOR);
	     Sprite8(1, 1, 8, life_light, GetPlane(LIGHT_PLANE), SPRT_XOR);
	     
	 	   Sprite8(9, 1, 8, life_dark, GetPlane(DARK_PLANE), SPRT_XOR);
	     Sprite8(9, 1, 8, life_light, GetPlane(LIGHT_PLANE), SPRT_XOR);  */
	     GraySprite8_XOR(1, 1, 8, life_light, life_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 	
	     GraySprite8_XOR(9, 1, 8, life_light, life_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 	     	
	 	   break;
	
	 	case 3:
	 	   /*Sprite8(1, 1, 8, life_dark, GetPlane(DARK_PLANE), SPRT_XOR);
	     Sprite8(1, 1, 8, life_light, GetPlane(LIGHT_PLANE), SPRT_XOR);
	
	 	   Sprite8(9, 1, 8, life_dark, GetPlane(DARK_PLANE), SPRT_XOR);
	     Sprite8(9, 1, 8, life_light, GetPlane(LIGHT_PLANE), SPRT_XOR);   
	     
	  	 Sprite8(18, 1, 8, life_dark, GetPlane(DARK_PLANE), SPRT_XOR);
	     Sprite8(18, 1, 8, life_light, GetPlane(LIGHT_PLANE), SPRT_XOR); */
	     GraySprite8_XOR(1, 1, 8, life_light, life_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 	
	     GraySprite8_XOR(9, 1, 8, life_light, life_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 	
	     GraySprite8_XOR(18, 1, 8, life_light, life_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 	  	   	
	 	   break;  
	
	 	default:
	 	   DrawStrXY(1, 1, "trace_life : Error", A_REVERSE);
	 	   break;
	 } 
 }
 switch (lives)
 {
 	case 0:
 	   break;
 	case 1:
 	   /*Sprite8(1, 1, 8, life_dark, GetPlane(DARK_PLANE), SPRT_XOR);
     Sprite8(1, 1, 8, life_light, GetPlane(LIGHT_PLANE), SPRT_XOR);*/	
     GraySprite8_XOR(1, 1, 8, life_light, life_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 	   	
 	   break;

  case 2:
 	   /*Sprite8(1, 1, 8, life_dark, GetPlane(DARK_PLANE), SPRT_XOR);
     Sprite8(1, 1, 8, life_light, GetPlane(LIGHT_PLANE), SPRT_XOR);
     
 	   Sprite8(9, 1, 8, life_dark, GetPlane(DARK_PLANE), SPRT_XOR);
     Sprite8(9, 1, 8, life_light, GetPlane(LIGHT_PLANE), SPRT_XOR);*/
     GraySprite8_XOR(1, 1, 8, life_light, life_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 	
     GraySprite8_XOR(9, 1, 8, life_light, life_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 	       	
 	   break;

 	case 3:
 	   /*Sprite8(1, 1, 8, life_dark, GetPlane(DARK_PLANE), SPRT_XOR);
     Sprite8(1, 1, 8, life_light, GetPlane(LIGHT_PLANE), SPRT_XOR);

 	   Sprite8(9, 1, 8, life_dark, GetPlane(DARK_PLANE), SPRT_XOR);
     Sprite8(9, 1, 8, life_light, GetPlane(LIGHT_PLANE), SPRT_XOR);   
     
  	 Sprite8(18, 1, 8, life_dark, GetPlane(DARK_PLANE), SPRT_XOR);
     Sprite8(18, 1, 8, life_light, GetPlane(LIGHT_PLANE), SPRT_XOR); */
     GraySprite8_XOR(1, 1, 8, life_light, life_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 	
     GraySprite8_XOR(9, 1, 8, life_light, life_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 	
     GraySprite8_XOR(18, 1, 8, life_light, life_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 	  	   	
 	   break;  

 	default:
 	   DrawStrXY(1, 1, "lives : Error", A_REVERSE);
 	   break;
 }
  	
}


/* ============================== enemy touched ============================== */
void enemy_touched(void)
{

      /* to post the explosion */
      
      if(explook == 9)
      {   	
        explook = en;
	      /* Safeguard coordonnees to erase the explosion */
		   	enemy[en].tracex = enemy[en].posx;
		   	enemy[en].tracey = enemy[en].posy;        
      }
	   	


	   	/*To erase the enemy */	
	   	if(en<3)
	   	{
		   	post_enemies_0();   
		   	enemy[en].posx = 0;
		   	enemy[en].posy = (LCD_HEIGHT-10);
		   	post_enemies_0();		
	   	}
	   	else if(en<5)
	   	{
		   	post_enemies_1();   
		   	enemy[en].posx = 0;
		   	enemy[en].posy = (LCD_HEIGHT-10);
		   	post_enemies_1();	  		
	   	}
	   	else if(en==5)
	   	{
		   	post_missiles();	
			 	enemy[en].posx = LCD_WIDTH;
			 	enemy[en].posy = (LCD_HEIGHT-10);  
			 	post_missiles(); 			   		
	   	}
	
	    /* The score increases */
      score+=20;
}


/* ============================== graph ============================== */
void graph(void) //Graph of the play
{
  
  /* Displacement of the mountains */

  	if(meter%5 == 0)
  	{
  	  for(nat=0 ; nat<2 ; nat++)
  	  {
	      post_mountains();  	
		    if(mountain[nat].posx > 0) 	
			    mountain[nat].posx--;
			  else
			    mountain[nat].posx = LCD_WIDTH;  			  
		  	post_mountains();    	  	
  	  }
  	}

    
  /* Displacement of the waterx */  

  if(/*meter%3 == 0*/!(meter&2))
  {
	  for(nat=0 ; nat<5 ; nat++)
	  {
	  	if(meter !=/*3*/1)
	  		post_waterx();
	  	if(waterx[nat].posx>0)
	  		waterx[nat].posx--;
	  	else
	  		waterx[nat].posx = LCD_WIDTH;
	  	post_waterx();
	  }  	
  }
    



/* Appearance of the boats */
  if(meter>DEPART_BOATS)
  {
	  for(nat=0 ; nat<2 ; nat++)
	  { 
	  	if(boat[nat].posx < 1)
	  	{
	  		if((meter<FIN_BOATS)||(meter>RECOVERY_BOATS))
	  		{
					post_boats();
					switch(nat)
					{
						case 0:
									boat[nat].posx = (LCD_WIDTH+40); 	
									break;
						case 1:
									boat[nat].posx = LCD_WIDTH; 
									break;			
					}			
	  		}
	  	}
	    else if(/*meter%2 == 0*/!(meter&2))
	    {
	    	post_boats(); 	
			  boat[nat].posx--;
			  post_boats();     	
	    }
	  }
  }
}


/* ============================== Enemies displacements ============================== */
void displacements_enemies(void)
{
	  if(meter > DEPART_ENEMY1)
	  for(en=0 ; en<3 ; en++) // enemies of the type ' 1 '
	  {
	  	/* ---------- Displacements of the enemy i ---------- */
	  	if(enemy[en].posx < 1)// if it is dropping off the screen
	  	{
	  	  if((meter < FIN_ENEMY1) || (meter > RECOVERY1))// if it is enemy 1 territory
	  	  {
		      post_enemies_0();	
		      switch (en)
		  	  {
		  	 	 	case 0:
		 	  			  enemy[en].posx = LCD_WIDTH;
		  	 			  enemy[en].posy = (random(60)+10);
		  	  			break;
		  	  	case 1:
		 	  			  enemy[en].posx = LCD_WIDTH;
		  	 			  enemy[en].posy = (random(60)+10);	  	  	
		  	  	    break;
		  	  	case 2:
		 	  			  enemy[en].posx = LCD_WIDTH;
		  	 			  enemy[en].posy = (random(60)+10);	  	  	
		  	  	    break;
		  	  }	  	  	
	  	  }
	  	  else if(enemy[en].posy !=100)
	  	  {
	  	  	post_enemies_0();
	  	  	enemy[en].posy = 100;
	  	  }
	  	}
	  	else
	  	{
	  	  if(enemy[en].posx != 160)
	 	      post_enemies_0();
	 	      
	  	  enemy[en].posx-=2;
	  	  if(meter > RECOVERY1)
	  	  {
		  	  if((shooting[0].posy >= (enemy[en].posy-10)) && (shooting[0].posy <= (enemy[en].posy+10)))
		  	    enemy[en].posy++;
		  	  if((shooting[1].posy >= (enemy[en].posy-10)) && (shooting[1].posy <= (enemy[en].posy+10)))
		  	    enemy[en].posy--;
		  	  if((shooting[2].posy >= (enemy[en].posy-10)) && (shooting[2].posy <= (enemy[en].posy+10)))
		  	    enemy[en].posy++;  	  	  	
	  	  }
	      post_enemies_0();   	    
	  	}	  	  		
	  }  		
	
	  if(meter > DEPART_ENEMY2) // enemies of the type ' 2 '
	  {
		for(en=3 ; en<5 ; en++) 
			  {
			  	/* ---------- Displacements of the enemy i ---------- */
			  	if(enemy[en].posx < 1)
			  	{
			  	  if((meter < FIN_ENEMY2) || (meter > RECOVERY2))
			  	  {
				     	post_enemies_1();
				     	switch (en)
				  	  {
				  	 	 	case 3:
				 	  			  enemy[en].posx = LCD_WIDTH;
				  	 			  enemy[en].posy = (LCD_HEIGHT-10);
				  	  			break;
				  	  	case 4:
				 	  			  enemy[en].posx = LCD_WIDTH;
				  	 			  enemy[en].posy = (LCD_HEIGHT-10);	  	  	
				  	  	    break;
				  	  }			  	  	
			  	  } 
			  	  else if(enemy[en].posy != 100)
			  	  {
			  	  	post_enemies_1();
			  	  	enemy[en].posy = 100;
			  	  }
			  	}
			  	else
			  	{
			  	  if(enemy[en].posx != 160 && enemy[en].posx > 0)
	  					post_enemies_1();	
			  	  enemy[en].posx-=2;			  	  
			  	  if(meter < RECOVERY2)
			  	  {
				  	  if(enemy[en].posx < 140)
				  	    enemy[en].posy--; 			  	  	
			  	  }
			  	  else
			  	  {
			  	  	if (posy < enemy[en].posy)
			  	  	  enemy[en].posy--;
			  	  }
	      	 post_enemies_1();		    
			  	}	  
	      }  			  			  		
		}
	 		   	  	   	        
  
  if(meter > DEPART_MISSILES)//shootings of the missiles
  {
  	en=5;
    if(enemy[en].posx > (LCD_WIDTH+40))
    {
    	if((meter < FIN_MISSILES)||(meter > RECOVERY_MISSILES))
    	{
			  enemy[en].posx = 0;
			  enemy[en].posy = random(70)+10; 
			  post_missiles();   		
    	}		    	
			else if(enemy[en].posy != 100)
			{
			 	post_missiles();
			 	enemy[en].posy = 100;
			}    	
    }
		else if(/*meter%2==0*/!(meter&1))
		{			
		 	post_missiles();							 
			  enemy[en].posx++;
			  if(posy > enemy[en].posy)
			  {
			    enemy[en].posy++;		  	
			  }
			  if(posy < enemy[en].posy)
			  {
			    enemy[en].posy--;	 		  	
			  }		  	
	    post_missiles();					  	  				
		} 	
  } 
  
  if(meter > DEPART_TRANSPORT)//Transport
  {
  	for(en=6 ; en<8 ; en++)
  	{
	    if(enemy[en].posx < 1)
	    {

	    	if(meter < FIN_TRANSPORT)
	    	{
	    	  post_enemies_2();	    	
				  enemy[en].posx = LCD_WIDTH;
				  enemy[en].posy = random(60)+10;    		
	    	}		    	
			  else if(enemy[en].posy != 100)
			  {
			   	post_enemies_2();
			   	enemy[en].posy = 100;
			  }	    	
	    }
			else if(/*meter%2==0*/!(meter&1))
			{			
			 	post_enemies_2();							 
				  enemy[en].posx--;
		    post_enemies_2();					  	  				
			} 	  		
  	}
  }    
}


/* ============================== control damage ============================== */
void control_damage()
{
 unsigned short explo[6][14] = {
 													 {0x0000,0x0400,0x00C0,0x2468,0x03E0,0x07F0,0x17F8,0x1FF0,0x0FF0,0x03F0,0x0924,0x0000,0x0080,0x0000},
  												 {0x0000,0x0000,0x00C0,0x0068,0x0260,0x0630,0x1518,0x1810,0x0E30,0x03F0,0x0924,0x0000,0x0080,0x0000},
 													 {0x03E0,0x0BF8,0x7FEC,0xEFBA,0xF776,0xFBFF,0x7DFF,0x7DEF,0x3EFF,0x1F7A,0x1FBE,0x3BCC,0x17E8,0x0780},
													 {0x03C0,0x0A38,0x798C,0xEB0A,0xB256,0xE26F,0x6C87,0x640F,0x343F,0x1E72,0x178E,0x288C,0x1668,0x0780},
 													 {0x0F00,0x3800,0x6060,0x4038,0xC01C,0x800C,0x820E,0x480D,0x2089,0x0011,0x0002,0x2042,0x1804,0x0718},
 													 {0x0F00,0x3800,0x6060,0x4038,0xC01C,0x800C,0x820E,0x480D,0x2089,0x0011,0x0002,0x2042,0x1804,0x0718}};


   /* damage of the shootings */ 
   /* shooting j on enemy i */   
  for(j=0 ; j<3 ; j++)// run thru the matrix of shot positions
  {
	  if(shooting[j].posx <LCD_WIDTH) // if it is still on the screen...
	  {
	  	for(en=0 ; en<6 ; en++)// loop thru each enemy on the screen
	  	{
		 	  if(((shooting[j].posx >= enemy[en].posx) && (shooting[j].posx <= (enemy[en].posx + 16))) && ((shooting[j].posy >= (enemy[en].posy-4)) && (shooting[j].posy <= (enemy[en].posy+4))))
			  {
		      enemy_touched();
		      post_shooting();  
		    
		      shooting[j].posx = LCD_WIDTH;
		      shooting[j].posy = 0;
		  	}   		
	  	}
	
		}   	
  }


	
	/* That is useful has to erase the explosions 4 turns after their appearance... */

  if(explook != 9)
  {
		if(/*meter%2 == 0*/!(meter&1))
		{
			if(explocompt!=0)
			{
			  /*Sprite16(enemy[explook].tracex, enemy[explook].tracey, 14, explo[explocompt], GetPlane(DARK_PLANE), SPRT_XOR); 	  
				Sprite16(enemy[explook].tracex, enemy[explook].tracey, 14, explo[explocompt-1], GetPlane(LIGHT_PLANE), SPRT_XOR);*/ 	 
				GraySprite16_XOR(enemy[explook].tracex, enemy[explook].tracey, 14, explo[explocompt-1], explo[explocompt], GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE));  		     								
			}
	 		explocompt++;	
			/*Sprite16(enemy[explook].tracex, enemy[explook].tracey, 14, explo[explocompt], GetPlane(DARK_PLANE), SPRT_XOR); 	  
			Sprite16(enemy[explook].tracex, enemy[explook].tracey, 14, explo[explocompt-1], GetPlane(LIGHT_PLANE), SPRT_XOR);*/ 	  		     								
	 		GraySprite16_XOR(enemy[explook].tracex, enemy[explook].tracey, 14, explo[explocompt-1], explo[explocompt], GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE));		
		}
    if(explocompt == 5)
    {
			/*Sprite16(enemy[explook].tracex, enemy[explook].tracey, 14, explo[explocompt], GetPlane(DARK_PLANE), SPRT_XOR); 	  
			Sprite16(enemy[explook].tracex, enemy[explook].tracey, 14, explo[explocompt-1], GetPlane(LIGHT_PLANE), SPRT_XOR);*/ 	  		     		  	  		     	   	   		
  	  GraySprite16_XOR(enemy[explook].tracex, enemy[explook].tracey, 14, explo[explocompt-1], explo[explocompt], GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE));
  	  explocompt = 0;
		  explook = 9;  	  	
    }
  }

}

/* ============================== to post the large explosion ============================== */
void post_large_explosion(void)
{
  /* Sprites of the explosion */
  static unsigned long explosiond[]={0x1C60000, 0x399900, 0xE0FE30, 0x17801F5A, 0x2000F98, 0x400078C, 0x4000746, 0x1C3D0704, 0x1E6F838C, 0x7FE06FC, 0x3A06E49, 0xFBDE00, 0x7E3420, 0x3B9D800, 0xC76000, 0x380000};
  static unsigned long explosionl[]={0x1000000, 0x80000, 0x1F0000, 0x706000, 0x1EF1060, 0x3FF8870, 0x3FF8B8, 0x383F8F8, 0x106C70, 0x1B000, 0xE1000, 0x42000, 0x1C000, 0x420000, 0x200000, 0x0}; 
 
  /*Sprite32(posx, posy, 16, explosiond, GetPlane(DARK_PLANE), SPRT_XOR);
 	Sprite32(posx, posy, 16, explosionl, GetPlane(LIGHT_PLANE), SPRT_XOR);*/
 	GraySprite32_XOR(posx, posy, 16 ,	explosionl, explosiond, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE));
}

/* ============================== to post enemies 1 ============================== */
void post_enemies_0(void)
{ 	
  /* enemy 1 */
   static unsigned short enemy0sprited[]={0x1, 0x7, 0x7FF, 0x1FFF, 0xFF80, 0x7FF};
   static unsigned short enemy0spritel[]={0x3, 0x9, 0x1800, 0x2007, 0xFE7F, 0x7FF};
  
	/* ---------- posting of the planes ---------- */
	 	/*Sprite16(enemy[en].posx, enemy[en].posy, 6, enemy0sprited, GetPlane(DARK_PLANE), SPRT_XOR);
	 	Sprite16(enemy[en].posx, enemy[en].posy, 6, enemy0spritel, GetPlane(LIGHT_PLANE), SPRT_XOR);*/
	 	GraySprite16_XOR(enemy[en].posx, enemy[en].posy, 6, enemy0spritel, enemy0sprited, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE));  		
}

/* ============================== to post enemies 2 ============================== */
void post_enemies_1(void)
{	
  /* enemy 2 */
   static unsigned short enemy1sprited[]={0x28, 0x5C, 0xBD, 0x61FF, 0xEFFE, 0x7FFF, 0xF8, 0x20};
   static unsigned short enemy1spritel[]={0x38, 0x65, 0x1FC7, 0x7FFF, 0xF007, 0x7FFF, 0x88, 0x38}; 

	/* ---------- posting of the planes ---------- */
	 	/*Sprite16(enemy[en].posx, enemy[en].posy, 8, enemy1sprited, GetPlane(DARK_PLANE), SPRT_XOR);
	 	Sprite16(enemy[en].posx, enemy[en].posy, 8, enemy1spritel, GetPlane(LIGHT_PLANE), SPRT_XOR); */
	 	GraySprite16_XOR(enemy[en].posx, enemy[en].posy, 8, enemy1spritel, enemy1sprited, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 		
}

/* ============================== to post missiles ============================== */
void post_missiles(void)
{ 	
  /* Missile */
	 static unsigned short missill[] = {0x1800,0x63C2,0xFFFF,0xBFFF,0x1800,0x1000};
	 static unsigned short missild[] = {0x1800,0x1800,0xC001,0x7FFE,0x3FFE,0x1800};
  
	/* ---------- posting of the missiles ---------- */
	 /*Sprite16(enemy[en].posx, enemy[en].posy, 6, missild, GetPlane(DARK_PLANE), SPRT_XOR);
	 Sprite16(enemy[en].posx, enemy[en].posy, 6, missill, GetPlane(LIGHT_PLANE), SPRT_XOR); */
	 GraySprite16_XOR(enemy[en].posx, enemy[en].posy, 6, missill, missild, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 		
}

/* ============================== to post enemies 3 ============================== */
void post_enemies_2(void)
{
  /* enemy 3 */
   static unsigned long enemy2spritel[] = {0x0000000C,0x0000001C,0x00000078,0x003F0074,0x006DFF54,0x07652DFA,0xADAA7FFF,0xFE77CBFB,0x3FFFFFE0,0x003FFC00};
   static unsigned long enemy2sprited[] = {0x00000004,0x00000010,0x00000024,0x000000C0,0x02A80080,0x0668123A,0x106D83FF,0xC3E9F1FC,0x1FFFFFC0,0x003FF800};

	/* ---------- posting of the planes ---------- */
	 	/*Sprite32(enemy[en].posx, enemy[en].posy, 10, enemy2sprited, GetPlane(DARK_PLANE), SPRT_XOR);
	 	Sprite32(enemy[en].posx, enemy[en].posy, 10, enemy2spritel, GetPlane(LIGHT_PLANE), SPRT_XOR);*/
	 	GraySprite32_XOR(enemy[en].posx, enemy[en].posy, 10, enemy2spritel, enemy2sprited, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 		
}

/* ============================== to post mountains ============================== */
void post_mountains(void)
{ 	
   static unsigned long mountain1[] = {
   																		 //Light Plane
   																		 0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,
   																		 //Dark Plane
   																		 0x001E0000,0x007FE000,0x03FFFF00,0x0FFFFFE0,0xFFFFFFFE};	
   																		 
   static unsigned long mountain2[] = {0x00000000,0x00000000,0x00000000,0x00000000,0x00000000, 0x00000000, 0x000F8000,0x01FFFE00,0x0FFFFF80,0x3FFFFFE0,0xFFFFFFFC,0xFFFFFFFF};
  
	/* ---------- posting of the mountains ---------- */
	switch(nat)
	{
		case 0:
       //Sprite32(mountain[nat].posx, 78, 5, mountain1, GetPlane(DARK_PLANE), SPRT_XOR);
       m_Sprite32(mountain[nat].posx, 78, 5, mountain1, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE), SPRT_XOR);
       break;
    case 1:
       //Sprite32(mountain[nat].posx, 77, 6, mountain2, GetPlane(DARK_PLANE), SPRT_XOR);
       m_Sprite32(mountain[nat].posx, 77, 6, mountain2, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE), SPRT_XOR);
       break;   
	}	
}

/* ============================== to post the waterx ============================== */
void post_waterx(void)
{ 	
   static unsigned long water[] = {0x44444448,0x11111112,0x88888889,0x00000000,0x11111112,0x00000000,0x44444444,0x00000000,0x11111111,0x00000000,0x00000000,0x22222222,0x00000000,0x00000000,0x41041041,0x00000000};

	/* ---------- posting of the waterx ---------- */
  Sprite32(waterx[nat].posx, 83, 16, water, GetPlane(LIGHT_PLANE), A_REVERSE);  
}

/* ============================== to post the boats ============================== */
void post_boats(void)
{ 	
  /* Sprite boats */
  static unsigned long boat_dark[] = {0x2000, 0x3000, 0x7000, 0x7000, 0x7000, 0x2F600, 0x61900, 0x7FFF7C, 0x400FF7, 0x3FFFFF, 0x1FFFFF, 0x1FFFFF};
  static unsigned long boat_light[] = {0x0, 0x1000, 0xD000, 0x1000, 0x7000, 0x39600, 0x5FFD0, 0x7CB17C, 0x7FF9CF, 0x200001, 0x100001, 0x1FFFFF};

	/* ---------- posting of the boats ---------- */
	 /*Sprite32(boat[nat].posx, 77, 12, boat_dark, GetPlane(DARK_PLANE), SPRT_XOR);
	 Sprite32(boat[nat].posx, 77, 12, boat_light, GetPlane(LIGHT_PLANE), SPRT_XOR); */
	 GraySprite32_XOR(boat[nat].posx, 77, 12, boat_light, boat_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 	
}

/* ============================== posting of the shootings ============================== */
void post_shooting()
{ 
     /* shooting 1 */ 
      static unsigned char shooting0sprited[]={0x6, 0x9, 0x9, 0x6};
      static unsigned char shooting0spritel[]={0x0, 0x6, 0xE, 0x6};
      
 			/*Sprite8(shooting[j].posx, shooting[j].posy, 4, shooting0sprited, GetPlane(DARK_PLANE), SPRT_XOR);//Effacer le shooting	
			Sprite8(shooting[j].posx, shooting[j].posy, 4, shooting0spritel, GetPlane(LIGHT_PLANE), SPRT_XOR);//effacer le shooting  	*/
			GraySprite8_XOR(shooting[j].posx, shooting[j].posy, 4, shooting0spritel, shooting0sprited, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE));
}
/* ============================== to post score ============================== */

void post_score(void)
{
  sprintf(buffer, "SCORE : %05d", score);
  SetPlane(DARK_PLANE);
	DrawStrXY(80, 1, buffer, A_REVERSE);
}

/* ============================== Bonus ============================== */
void bonus(void)
{
	static unsigned char bonusl[] = {0x70,0xA8,0x70,0xF0,0xE8,0xC8,0xF0,0x70,0xA8,0xE0};
	static unsigned char bonusd[] = {0xF0,0xD8,0xF8,0x70,0xD8,0xF8,0x70,0xF8,0xD8,0x70};
	
	static short var;
	
	if(bonusx>0)
	{
		/*Sprite8(bonusx, bonusy, 10, bonusl, GetPlane(LIGHT_PLANE), SPRT_XOR);
		Sprite8(bonusx, bonusy, 10, bonusd, GetPlane(DARK_PLANE), SPRT_XOR);*/
		GraySprite8_XOR(bonusx, bonusy, 10, bonusl, bonusd, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE));		
		if(/*meter%2==0*/!(meter&1))
		{
			if(bonusy==65)
				var=(-1);
			if(bonusy==25)
				var=1;			
			bonusy = bonusy+var;				
		}


		bonusx--;
		if(bonusx != 0)
		{
			/*Sprite8(bonusx, bonusy, 10, bonusl, GetPlane(LIGHT_PLANE), SPRT_XOR);
			Sprite8(bonusx, bonusy, 10, bonusd, GetPlane(DARK_PLANE), SPRT_XOR);*/
			GraySprite8_XOR(bonusx, bonusy, 10, bonusl, bonusd, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE));			
		}

		
		if(((bonusy > (posy-5)) && (bonusy < (posy+5))) && ((bonusx < (posx+25)) &&	(bonusx > (posx-6))))
		{
			/*Sprite8(bonusx, bonusy, 10, bonusl, GetPlane(LIGHT_PLANE), SPRT_XOR);
			Sprite8(bonusx, bonusy, 10, bonusd, GetPlane(DARK_PLANE), SPRT_XOR);*/
			GraySprite8_XOR(bonusx, bonusy, 10, bonusl, bonusd, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE));		
			bonusx=0;
			if(lives<3)
			{
				anc_pos_life = lives;
				lives++;
				posting_lives();				
			}

		}
	}
	
  if(meter%2000 == 0)
  {
  	bonusy = 50;
  	var = 1;
  	bonusx=LCD_WIDTH;  	
  }

}



/* ============================== Pause ============================== */
void pause(void)
{
	static unsigned short pause[] = {0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E,0xF83E};

  Sprite16(72, 38, 25, pause, GetPlane(DARK_PLANE), SPRT_XOR);
  
	while(!(_rowread(0x7E)&0x10));
	
  Sprite16(72, 38, 25, pause, GetPlane(DARK_PLANE), SPRT_XOR);
}








/* ##################################################################################################################### */

/* ================================================================== */
/* ============================== Main ============================== */
/* ================================================================== */

void _main(void)
{
  /* Saving of AUTO_INT_1 */
	INT_HANDLER save_int_1 = GetIntVec(AUTO_INT_1);  
	/* Declaration of the variables */
  register short variation=0, quitte=0, tracex=posx, tracey=posy; 

  
 /* vessel */
	static unsigned long sprite_horizon_light[] = {0x08000000,0x04000000,0x0A00D000,0x2E7AF800,0xEFFF7E00,0x89F18F00,0x23FE0000,0x01800000};
	static unsigned long sprite_horizon_dark[] = {0x00000000,0x08000000,0x0C007000,0x0F853800,0x1C008000,0x7E0FFF00,0x02FE0000,0x01800000};

	static unsigned long sprite_high_light[] = {0x01C00000,0x00E00000,0x0C386000,0x0F6F7C00,0x6B828700,0xFFFFFC00,0x01F40000,0x01C00000};
	static unsigned long sprite_high_dark[] = {0x01C00000,0x01200000,0x01C80000,0x2BF08000,0x9FFFFF00,0x0FFFFC00,0x21FC0000,0x01C00000};

  static unsigned long sprite_low_light[] = {0x01400000,0x08780000,0x2F80D800,0xAE7FFC00,0x5815FF00,0x2F83FC00,0x018C0000,0x01300000,0x01400000,0x01800000};
  static unsigned long sprite_low_dark[] = {0x09400000,0x0FF80000,0x0EF07800,0x0B807800,0x8FE10100,0x0E43FC00,0x000C0000,0x00300000,0x00400000,0x01800000};

  DEPART: 
   
  /* Initialization of the Shooting Structures */
  shooting[0].posx = 160 ; shooting[0].posy = 0;
  shooting[1].posx = 160 ; shooting[1].posy = 0;
  shooting[2].posx = 160 ; shooting[2].posy = 0;  
  
  invincibility = 400;
  
  /* Initialization of the enemy structures */
  for(en=0 ; en<8 ; en++)
  {
  	enemy[en].posx = 160 ; enemy[en].posy = 50;    
    enemy[en].tracex = 160 ; enemy[en].tracey = 50;    		
  }
  
  enemy[1].posy = 20;
  enemy[2].posy = 70;
  
  bonusx = 0;
  bonusy = 50;
  
  enemy[4].posy = 50;
  enemy[7].posy = 20;
  
  
  /* Initialization of the decorations */
  boat[0].posx = 0;
  boat[1].posx = 0;
 
  for(nat=0 ; nat<5 ; nat++)
	  waterx[nat].posx=(nat*32);

	mountain[0].posx = 160;
	mountain[1].posx = 200;
	  
     
  /* Initialization of the variables */
  lives = 3 ; score = 0;
  meter = 0; explook = 9; explocompt = 0;
  posx=0, posy=42;
  
	SetIntVec(AUTO_INT_1, DUMMY_HANDLER);
	GrayOn();
	

	intro();	
  quitte = menu();
	
	/* posting of the plane before the departure */
		  /*Sprite32(posx, posy, 8, sprite_horizon_light, GetPlane(LIGHT_PLANE), SPRT_XOR);
		  Sprite32(posx, posy, 8, sprite_horizon_dark, GetPlane(DARK_PLANE), SPRT_XOR);*/
		  GraySprite32_XOR(posx, posy, 8, sprite_horizon_light, sprite_horizon_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE));
		  
  /* posting of the lives */
  anc_pos_life = 0;
  posting_lives();

	
	while ((!quitte))
	{
	/* meter which is useful has to make /*apparaitre/* [appearance of] the enemies */
	  meter++;

  /*To erase the plane */
	  if(invincibility > 200)
		{
		// this draws the plane (and becuase it XORs, it erases
		// a switch statement is used becuase there are three variations of the plane
		// the first is flat, then there are ones for moving up and moving down
		switch (variation)
		{
			case 0:
		    /*Sprite32(posx, posy, 8, sprite_horizon_light, GetPlane(LIGHT_PLANE), SPRT_XOR);
	    	Sprite32(posx, posy, 8, sprite_horizon_dark, GetPlane(DARK_PLANE), SPRT_XOR);	*/
	    	GraySprite32_XOR(posx, posy, 8, sprite_horizon_light, sprite_horizon_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE));
	    	break;			  
			case 1:
		    /*Sprite32(posx, posy, 8, sprite_high_light, GetPlane(LIGHT_PLANE), SPRT_XOR);
	    	Sprite32(posx, posy, 8, sprite_high_dark, GetPlane(DARK_PLANE), SPRT_XOR);*/
	    	GraySprite32_XOR(posx, posy, 8, sprite_high_light, sprite_high_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE));		
	    	break;		
			case 2:
		    /*Sprite32(posx, posy, 10, sprite_low_light, GetPlane(LIGHT_PLANE), SPRT_XOR);
	    	Sprite32(posx, posy, 10, sprite_low_dark, GetPlane(DARK_PLANE), SPRT_XOR);*/
	    	GraySprite32_XOR(posx, posy, 8, sprite_low_light, sprite_low_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE));		
	    	break;		
		}
		}
		else
		{
		// the difference here is that the whole plane is drawn into the light plane
		// thus a "transparent" version is given, allowing a standard "invincible" state
		switch (variation)
		{
			case 0:
	    	GraySprite32_XOR(posx, posy, 8, sprite_horizon_light, sprite_horizon_dark, GetPlane(LIGHT_PLANE), GetPlane(LIGHT_PLANE));
	    	break;			  
			case 1:
	    	GraySprite32_XOR(posx, posy, 8, sprite_high_light, sprite_high_dark, GetPlane(LIGHT_PLANE), GetPlane(LIGHT_PLANE));		
	    	break;		
			case 2:
	    	GraySprite32_XOR(posx, posy, 8, sprite_low_light, sprite_low_dark, GetPlane(LIGHT_PLANE), GetPlane(LIGHT_PLANE));		
	    	break;		
		}			
		}
    /* control the collisions */
    control_collision();
	 
 
    /* Data storage */
    tracex = posx;
    tracey = posy;
 
 /* Test of conditions on the keys */
		if((_rowread(0x7E)&0x2) && (posx > 0))// if its left, and it fits, the plane moves left
			posx--;		

		if((_rowread(0x7E)&0x8) && (posx < (LCD_WIDTH-24)))// if its right, move right
			posx++;	

		if((_rowread(0x7E)&0x1) && (posy > 7))// if its up, go up
			posy--;

		if((_rowread(0x7E)&0x4) && (posy < (LCD_HEIGHT-16)))// if down, go down
			posy++;

		if(_rowread(0x3F)&0x1)// if ESC, make the quitte variable non-zero, so it will exit the while loop
			quitte = 5;
			
	  if(_rowread(0x7E)&0x80)// if alpha, then pause the game
	    pause();

		
		if(invincibility>200)// if youre not invincible, and thus normal drawing applies
		{
		if(posy > tracey) // if you moved down
		{
		  variation = 2; // make the current plane sprite the down sprite and draw it
		  /*Sprite32(posx, posy, 10, sprite_low_light, GetPlane(LIGHT_PLANE), SPRT_XOR);
		  Sprite32(posx, posy, 10, sprite_low_dark, GetPlane(DARK_PLANE), SPRT_XOR);*/	
		  GraySprite32_XOR(posx, posy, 8, sprite_low_light, sprite_low_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE));
		}
		else if(posy<tracey) // if you moved up
		{
		  variation = 1;// make it up and draw
			/*Sprite32(posx, posy, 8, sprite_high_light, GetPlane(LIGHT_PLANE), SPRT_XOR);
		  Sprite32(posx, posy, 8, sprite_high_dark, GetPlane(DARK_PLANE), SPRT_XOR);*/	
		  GraySprite32_XOR(posx, posy, 8, sprite_high_light, sprite_high_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE));
		}
		 
		else
		{
		  variation = 0; // otherwise, you must not have moved up or down, so it should draw normal
		  /*Sprite32(posx, posy, 8, sprite_horizon_light, GetPlane(LIGHT_PLANE), SPRT_XOR);
		  Sprite32(posx, posy, 8, sprite_horizon_dark, GetPlane(DARK_PLANE), SPRT_XOR);	*/
		  GraySprite32_XOR(posx, posy, 8, sprite_horizon_light, sprite_horizon_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 			
   	}		
		}	
		else // this else is if you are invincible, but otherwise is the same stuff
		{
		if(posy > tracey)
		{
		  variation = 2;
		  GraySprite32_XOR(posx, posy, 8, sprite_low_light, sprite_low_dark, GetPlane(LIGHT_PLANE), GetPlane(LIGHT_PLANE));
		}
		else if(posy<tracey)
		{
		  variation = 1;	
		  GraySprite32_XOR(posx, posy, 8, sprite_high_light, sprite_high_dark, GetPlane(LIGHT_PLANE), GetPlane(LIGHT_PLANE));
		}
		 
		else
		{
		  variation = 0;
		  GraySprite32_XOR(posx, posy, 8, sprite_horizon_light, sprite_horizon_dark, GetPlane(LIGHT_PLANE), GetPlane(LIGHT_PLANE)); 			
   	}		
		}			

		
    
    /* control the shootings */
    control_damage(); 	  
    	  
	  /* enemies */
	  displacements_enemies();
 
    /* shootings */
    shootings();      
    
    post_score();
    
    /* So more life... */
    if(lives == 0)
      quitte = 1;
    
    /* Decorations */
      graph();

		/* Bonus */
    	bonus();
    
    if(meter > 20000)
      quitte=2;
	  
	  /* deceleration of the prog */
			sleep(deceleration);	// this here runs vincent's delay function "sleep", which takes the argument "deceleration", which was defined in the menu when you added or subtracted speed
	}
	sleep(250); // this is a little delay when you quit
	
	degrade(1);
  if(score > record)
    record = score;	
	SetPlane(LIGHT_PLANE);clrscr();
	SetPlane(DARK_PLANE);clrscr();
	
	if(quitte == 2) // quitte is set to 2 when you run through the whole level, so you won
	{
		FontSetSys(F_8x10);
		DrawStrXY(52, 10, "You Win", A_REVERSE);
    DrawStrXY(28, 30, buffer, A_NORMAL);
    
    degrade(2);	   


    for(en=0 ; en<160 ; en++) // i guess this is some sort of winning animation with the ship
    {
	 		/*Sprite32(en, 46, 8, sprite_horizon_light, GetPlane(LIGHT_PLANE), SPRT_XOR);
			Sprite32(en, 46, 8, sprite_horizon_dark, GetPlane(DARK_PLANE), SPRT_XOR);*/
			GraySprite32_XOR(en, 48, 8, sprite_horizon_light, sprite_horizon_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 		
			sleep(500);
	 		/*Sprite32(en, 46, 8, sprite_horizon_light, GetPlane(LIGHT_PLANE), SPRT_XOR);
			Sprite32(en, 46, 8, sprite_horizon_dark, GetPlane(DARK_PLANE), SPRT_XOR);*/
			GraySprite32_XOR(en, 48, 8, sprite_horizon_light, sprite_horizon_dark, GetPlane(LIGHT_PLANE), GetPlane(DARK_PLANE)); 					   	
    }			
    sleep(10000);sleep(10000);sleep(10000);sleep(50000);// lots of delay
 
	  degrade(1);
	 	SetPlane(LIGHT_PLANE);clrscr();// clear the screens
		SetPlane(DARK_PLANE);clrscr();      
	}
	
	if(quitte != 5)// remember that quitte is 5 you asked to quit, so you definitely dont want to get sent back to the start
	{
		degrade(2);
		goto DEPART;		
	}

  // all of this is just the quit screen
  sleep(1000);  
  decelerations_shootings = 0; 	
  GrayOff();	

  SetIntVec(AUTO_INT_1, save_int_1);
	FontSetSys(F_8x10);
	DrawStrXY(12, 4, "Aerial Assault 89", A_REVERSE);
  FontSetSys(F_4x6);   
	DrawStrXY(10, 22, "  From the Aerial Assault s game of SEGA    ", A_NORMAL);
	DrawStrXY(10, 29, "        MasterSystem © (1990). Adapted by ", A_NORMAL);
	DrawStrXY(10, 36, "Vincent CORFDIR to Orage Studio (2003)", A_NORMAL);
	DrawStrXY(10, 43, "  . Programed in C with TIGCC IDE v.0.94  ", A_NORMAL);
	DrawStrXY(10, 50, "        for TI 89 HW1 & HW2. For more          ", A_NORMAL);
	DrawStrXY(10, 57, "    information, visit our web site, or", A_NORMAL);	
	DrawStrXY(10, 64, "   write to me at oragesoft@hotmail.com", A_NORMAL);
	FontSetSys(F_6x8);	
	DrawStrXY(2, 90, "http://oragestudio.free.fr", A_REVERSE);//i suppose if he wanted to look more professional, he should redraw this every loop, in case the player hits second or something  
  degrade(2);
  ngetchx();
  clrscr();	
}
